<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.synapseevent.controller.UserDashboardController">
    <HBox>
        <Button text="Logout" onAction="#logout"/>
    </HBox>
    <TabPane fx:id="categoryTabPane">
    <!-- Home Tab with Featured Events and Filters -->
    <Tab text="Home">
        <VBox spacing="10">
            <!-- Filter Controls -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Search Location:" />
                <TextField fx:id="locationSearchField" promptText="Enter location..." />
                
                <Label text="Event Type:" />
                <ComboBox fx:id="typeFilterCombo" />
                
                <Label text="From:" />
                <DatePicker fx:id="dateFromPicker" />
                
                <Label text="To:" />
                <DatePicker fx:id="dateToPicker" />
                
                <Button text="Apply Filters" onAction="#applyFilters" />
                <Button text="Clear Filters" onAction="#clearFilters" />
            </HBox>
            
            <!-- Featured Events Section -->
            <Label text="Featured Events" style="-fx-font-size: 18; -fx-font-weight: bold;" />
            <TableView fx:id="featuredEventsTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="featuredNameColumn" text="Name" />
                    <TableColumn fx:id="featuredTypeColumn" text="Type" />
                    <TableColumn fx:id="featuredDateColumn" text="Date" />
                    <TableColumn fx:id="featuredLocationColumn" text="Location" />
                    <TableColumn fx:id="featuredPriceColumn" text="Price" />
                    <TableColumn fx:id="featuredActionColumn" text="Action" />
                </columns>
            </TableView>
            
            <!-- All Events Section -->
            <Label text="All Available Events" style="-fx-font-size: 18; -fx-font-weight: bold;" />
            <TableView fx:id="allEventsTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="allNameColumn" text="Name" />
                    <TableColumn fx:id="allTypeColumn" text="Type" />
                    <TableColumn fx:id="allDateColumn" text="Date" />
                    <TableColumn fx:id="allLocationColumn" text="Location" />
                    <TableColumn fx:id="allPriceColumn" text="Price" />
                    <TableColumn fx:id="allStatusColumn" text="Status" />
                    <TableColumn fx:id="allActionColumn" text="Action" />
                </columns>
            </TableView>
        </VBox>
    </Tab>
    <!-- Available Events by Type (Legacy tabs) -->
    <Tab text="Browse by Type">
        <TabPane fx:id="eventsTabPane">
            <!-- Dynamic tabs will be created here -->
        </TabPane>
    </Tab>
    <Tab text="My Bookings">
        <VBox>
            <TableView fx:id="bookingsTable">
                <columns>
                    <TableColumn fx:id="bookingTypeColumn" text="Event Name" />
                    <TableColumn fx:id="bookingEventIdColumn" text="Event ID" />
                    <TableColumn fx:id="bookingDateColumn" text="Booking Date" />
                    <TableColumn fx:id="bookingStatusColumn" text="Status" />
                </columns>
            </TableView>
        </VBox>
    </Tab>
    <Tab text="Custom Request">
        <VBox spacing="10">
            <Label text="Event Type:" />
            <ComboBox fx:id="eventTypeCombo" />
            <Label text="Event Date:" />
            <DatePicker fx:id="eventDatePicker" />
            <Label text="Budget (â‚¬):" />
            <TextField fx:id="budgetField" promptText="Enter budget" />
            <Label text="Capacity:" />
            <Spinner fx:id="capacitySpinner" min="1" max="10000" initialValue="50" />
            <Label text="Location:" />
            <TextField fx:id="locationField" promptText="Enter preferred location" />
            <Label text="Description:" />
            <TextArea fx:id="descriptionArea" promptText="Enter event description" />
            <Button fx:id="submitRequestButton" text="Submit Request" onAction="#submitCustomRequest" />
        </VBox>
    </Tab>
    </TabPane>
</VBox>
